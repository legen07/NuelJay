#!/usr/bin/env node
import m from"yargs";import{hideBin as a}from"yargs/helpers";import f from"node:process";import{getCliOptions as c}from"./parseArgs.js";import{convertImages as g}from"./compression.js";import{getIniOptions as l}from"./parseIni.js";import{getPromptOptions as O}from"./prompts.js";import{parseOptions as d}from"./parseOptions.js";import{logMessage as r}from"./utils.js";async function e(){const o=c(m(a(f.argv))),n=l(o.configFile);let i=d(o,n);o.interactive===!0&&(i=await O(i));const t=["srcDir","distDir"].filter(p=>!i[p]);if(t.length>0)throw new Error(`Missing required options: ${t.join(", ")}`);r("Options:"+JSON.stringify(i),o.verbose);const s=Date.now();await g(i),r(`The end \u{1F389} - Time elapsed: ${(Date.now()-s)/1e3} seconds`,!0)}e().catch(o=>{console.error(o)});export{e as default};
